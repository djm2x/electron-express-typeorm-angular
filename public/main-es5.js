!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{0:function(e,t,n){e.exports=n("zUnb")},"0hB7":function(t,i,r){"use strict";r.d(i,"a",(function(){return a}));var o=r("V2kc"),s=r("fXoL"),a=function(){var t=function(){function t(){e(this,t),this.user=new o.a,this.token="",this.getSession()}return n(t,[{key:"doSignIn",value:function(e,t){e&&t&&(this.user=e,this.token=t,localStorage.setItem("USER",JSON.stringify(this.user)),localStorage.setItem("TOKEN",JSON.stringify(this.token)))}},{key:"updateUser",value:function(e){e&&(this.user=e,localStorage.setItem("USER",JSON.stringify(this.user)))}},{key:"doSignOut",value:function(){this.user=new o.a,localStorage.removeItem("USER"),localStorage.removeItem("TOKEN")}},{key:"getSession",value:function(){try{this.user=JSON.parse(localStorage.getItem("USER")),this.token=JSON.parse(localStorage.getItem("TOKEN"))}catch(e){this.user=new o.a,this.token=""}}},{key:"isSignedIn",get:function(){return!!localStorage.getItem("USER")||!!localStorage.getItem("TOKEN")}},{key:"isAdmin",get:function(){return"admin"===this.user.role}},{key:"isUser",get:function(){return"user"===this.user.role}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"0kbX":function(t,i,r){"use strict";r.d(i,"a",(function(){return a}));var o=r("fXoL"),s=r("dNgK"),a=function(){var t=function(){function t(n){e(this,t),this.snackBar=n,this.horizontalPosition="center",this.verticalPosition="top"}return n(t,[{key:"openSnackBar",value:function(e){this.snackBar.open(e,null,{panelClass:["warn-snackbar"],duration:4500})}},{key:"manageStatusCode",value:function(e){switch(e){case 200:break;case 199:case 201:case 204:this.notifyOk(e,this.listMessage(e));break;case 404:case 401:case 403:case 500:this.notifyAlert(e,this.listMessage(e));break;case 250:default:this.notifyOk(e,this.listMessage(e))}}},{key:"notifyOk",value:function(e,t){this.snackBar.open(t,null,{panelClass:["green-snackbar"],duration:2500})}},{key:"notifyAlert",value:function(e,t){this.snackBar.open(t,null,{panelClass:["alert-snackbar"],duration:3500})}},{key:"message",value:function(e){}},{key:"listMessage",value:function(e){var t=[{code:202,message:e+": Enregistrement a \xe9t\xe9 bien supprim\xe9"},{code:201,message:e+": Enregistrement a \xe9t\xe9 bien ajout\xe9"},{code:204,message:e+": Enregistrement a \xe9t\xe9 bien edit\xe9"},{code:404,message:e+": Chemin non trouv\xe9"},{code:401,message:e+": Chemin non autoris\xe9"},{code:403,message:e+": Chemin Interdit"},{code:250,message:e+": Les enregistrements on \xe9t\xe9 ajout\xe9s"},{code:500,message:e+": Impossible d'effectuer cette op\xe9ration"}].find((function(t){return t.code===e}));return t?t.message:e+": erreur inconnue"}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Wb(s.a))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},M0ag:function(e,t,n){"use strict";var i=n("0hB7");n.d(t,"a",(function(){return i.a}))},V2kc:function(t,n,i){"use strict";i.d(n,"a",(function(){return r}));var r=function t(){e(this,t),this.id=0,this.name="",this.email="",this.password="",this.isActive=!1,this.date=new Date,this.role="",this.imageUrl=""}},zUnb:function(t,i,r){"use strict";r.r(i);var o,s,a,c,u=r("fXoL"),l=r("ofXK"),f=r("bv9b"),h=r("Xa2L"),p=((o=function t(){e(this,t)}).\u0275mod=u.Kb({type:o}),o.\u0275inj=u.Jb({factory:function(e){return new(e||o)},imports:[[l.c,f.b,h.a]]}),o),d=r("jhN1"),b=r("tk/3"),g=r("tyNb"),m=r("lJxs"),v=r("pLZG"),k=r("IzEk"),y=r("3E0/"),w=r("R0Ic"),O=((s=function(){function t(n,i,r){e(this,t),this.router=n,this.document=i,this.animationBuilder=r,this.init()}return n(t,[{key:"init",value:function(){var e=this;this.splashScreenElem=this.document.body.querySelector("#splash-screen"),this.splashScreenElem&&this.router.events.pipe(Object(m.a)((function(e){return e})),Object(v.a)((function(e){return e instanceof g.b})),Object(k.a)(1),Object(y.a)(700)).subscribe((function(){return e.hide()}))}},{key:"hide",value:function(){var e=this.animationBuilder.build([Object(w.l)({opacity:1}),Object(w.e)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)",Object(w.l)({opacity:0}))]).create(this.splashScreenElem);e.onDone((function(){})),e.play()}}]),t}()).\u0275fac=function(e){return new(e||s)(u.Wb(g.e),u.Wb(l.d),u.Wb(w.b))},s.\u0275prov=u.Ib({token:s,factory:s.\u0275fac,providedIn:"root"}),s),S=r("HDdC"),I=((a=function(){function t(){e(this,t),this.ipc=null,this.remote=null,window&&window.process&&window.process.type&&(this.ipc=window.require("electron").ipcRenderer,this.remote=window.require("electron").remote)}return n(t,[{key:"get",value:function(e){var t=this;return this.ipc.send(e),new S.a((function(e){return t.ipc.prependOnceListener("angular",(function(t,n){return e.next(n)}))}))}}]),t}()).\u0275fac=function(e){return new(e||a)},a.\u0275prov=u.Ib({token:a,factory:a.\u0275fac,providedIn:"root"}),a),x=r("2Vo4"),j=((c=function t(){e(this,t),this.isLoading=new x.a({isBegin:!1,count:0})}).\u0275fac=function(e){return new(e||c)},c.\u0275prov=u.Ib({token:c,factory:c.\u0275fac,providedIn:"root"}),c);function C(e,t){if(1&e&&(u.Sb(0,"span",1),u.Nb(1,"mat-progress-bar",2),u.ec(2,"async"),u.Rb()),2&e){var n=u.dc();u.Bb(1),u.ic("value",u.fc(2,1,n.loader.isLoading).count)}}var E,R,q,B,M,N,P=((R=function(){function t(n){e(this,t),this.loader=n,this.isOpen=!0}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||R)(u.Mb(j))},R.\u0275cmp=u.Gb({type:R,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","topbar",4,"ngIf"],[1,"topbar"],["mode","determinate","color","primary",2,"height","3px",3,"value"]],template:function(e,t){1&e&&(u.xc(0,C,3,3,"span",0),u.ec(1,"async")),2&e&&u.ic("ngIf",u.fc(1,1,t.loader.isLoading).isBegin)},directives:[l.k,f.a],pipes:[l.b],styles:[".mat-spinner.mat-accent[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%],   .mat-progress-spinner.mat-accent circle{stroke:#fff!important}.topbar[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:20;top:0}.myspinner[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;z-index:19;background-color:grey;padding:5px 10px 5px 5px;border-radius:5px 0 0 5px}.myspinner[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{position:absolute;top:17px;left:12px;z-index:20;color:#fff}"],data:{animation:[Object(w.n)("openClose",[Object(w.k)("open",Object(w.l)({right:0})),Object(w.k)("closed",Object(w.l)({right:"-52px"})),Object(w.m)("open <=> closed",[Object(w.e)("0.5s")])])]}}),R),L=((E=function(){function t(n,i){e(this,t),this.splashScreenService=n,this.electron=i}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||E)(u.Mb(O),u.Mb(I))},E.\u0275cmp=u.Gb({type:E,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(u.Nb(0,"app-loader"),u.Nb(1,"router-outlet"))},directives:[P,g.i],styles:[""]}),E),U=r("R1ws"),z=r("zg4H"),A=r("0hB7"),J=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadChildren:function(){return Promise.all([r.e(1),r.e(3)]).then(r.bind(null,"Yj9t")).then((function(e){return e.AuthModule}))}},{path:"admin",loadChildren:function(){return Promise.all([r.e(1),r.e(2)]).then(r.bind(null,"jkDv")).then((function(e){return e.AdminModule}))},canActivate:[(q=function(){function t(n,i){e(this,t),this.session=n,this.router=i}return n(t,[{key:"canActivate",value:function(e,t){return!!this.session.isSignedIn||(this.router.navigate(["/auth"]),!1)}}]),t}(),q.\u0275fac=function(e){return new(e||q)(u.Wb(A.a),u.Wb(g.e))},q.\u0275prov=u.Ib({token:q,factory:q.\u0275fac,providedIn:"root"}),q)]}],W=((B=function t(){e(this,t)}).\u0275mod=u.Kb({type:B}),B.\u0275inj=u.Jb({factory:function(e){return new(e||B)},imports:[[g.h.forRoot(J,{preloadingStrategy:g.d})],g.h]}),B),K=r("0kbX"),_=r("M0ag"),T=((M=function(){function t(n,i,r,o){e(this,t),this.loaderService=n,this.router=i,this.snackBar=r,this.session=o,this.requests=[],this.cachedRequests=[],this.max=0,this.percentage=0}return n(t,[{key:"intercept",value:function(e,t){var n=this;return this.requests.push(e),this.calculPercentage(this.requests.length),new S.a((function(i){var r=e.clone({setHeaders:{Authorization:"Bearer "+n.session.token}}),o=t.handle(r).subscribe((function(t){t instanceof b.f&&(n.removeRequest(e),i.next(t),n.snackBar.manageStatusCode(t.status))}),(function(t){t instanceof b.d&&(401===t.status||403===t.status?(console.log(t.status,t.statusText),n.router.navigate(["/admin"])):n.snackBar.manageStatusCode(t.status)),n.removeRequest(e),i.error(t)}),(function(){n.removeRequest(e),i.complete()}));return function(){n.removeRequest(e),o.unsubscribe()}}))}},{key:"removeRequest",value:function(e){var t=this.requests.indexOf(e);t>=0&&(this.requests.splice(t,1),this.calculPercentage(this.requests.length))}},{key:"collectFailedRequest",value:function(e){this.cachedRequests.push(e)}},{key:"retryFailedRequests",value:function(){}},{key:"calculPercentage",value:function(e){0===e?(this.percentage=100,this.max=0,this.loaderService.isLoading.next({isBegin:this.requests.length>0,count:+this.percentage.toFixed(0)})):(this.max=this.max>e?this.max:e,this.percentage=100-100*e/this.max,this.loaderService.isLoading.next({isBegin:!0,count:+this.percentage.toFixed(0)}))}}]),t}()).\u0275fac=function(e){return new(e||M)(u.Wb(j),u.Wb(g.e),u.Wb(K.a),u.Wb(_.a))},M.\u0275prov=u.Ib({token:M,factory:M.\u0275fac,providedIn:"root"}),M),X=r("/t3+"),D=r("f0Cb"),V=r("bTqV"),F=r("dNgK"),G=r("0IaG"),H=((N=function t(n){e(this,t),this.injector=n,z.a.injector=this.injector}).\u0275mod=u.Kb({type:N,bootstrap:[L]}),N.\u0275inj=u.Jb({factory:function(e){return new(e||N)(u.Wb(u.t))},providers:[{provide:b.a,useClass:T,multi:!0}],imports:[[d.a,W,b.c,X.b,h.a,D.b,V.b,F.b,G.f,U.b,p]]}),N);Object(u.U)(),d.c([{provide:"BASE_URL",useValue:"http://localhost:9001"},{provide:"API_URL",useValue:"http://localhost:9001/api"}]).bootstrapModule(H).catch((function(e){return console.error(e)}))},zg4H:function(t,n,i){"use strict";i.d(n,"a",(function(){return o}));var r=i("fXoL"),o=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0,10]]])}();